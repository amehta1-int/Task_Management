<!DOCTYPE html>
<html>
  <head>
    <title>TaskManager</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  </head>

  <body class="page">
    <header class="page-header">
      <div class="container">
        <div class="navbar">
          <div class="brand">
            <span class="brand-mark">âœ“</span>
            <span class="brand-name">Task Manager</span>
          </div>
          <nav class="nav-links">
            <% if logged_in? %>
              <span class="nav-user">Hi, <%= current_user.name %></span>
              <%= link_to "Tasks", tasks_path, class: "btn btn-ghost btn-sm" %>
              <%= button_to "Logout", logout_path, method: :delete, class: "btn btn-secondary btn-sm", form_class: "inline-form" %>
            <% else %>
              <%= link_to "Login", login_path, class: "btn btn-ghost btn-sm" %>
              <%= link_to "Sign up", signup_path, class: "btn btn-sm" %>
            <% end %>
          </nav>
        </div>
      </div>
    </header>

    <main class="page-main">
      <div class="container">
        <% if flash.any? %>
          <div class="flash-list">
            <% flash.each do |type, msg| %>
              <div class="flash <%= type %>"><%= msg %></div>
            <% end %>
          </div>
        <% end %>

        <%= yield %>
      </div>
    </main>
  </body>
</html>
